@(CurrentDB: models.CurrentDB)(chartData: Html)
@mapData = @{CurrentDB.getCompanyInfo}

@main("Compare") { } {
  <html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
		
      function drawChart() {
        var data = google.visualization.arrayToDataTable(@chartData);

        var options = {
          title: 'Company Performance',
          curveType: 'function',
          legend: { position: 'bottom' }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
    </script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script type='text/javascript' src='@routes.Assets.at("javascripts/js/bootstrap.min.js")'></script>
</body>
  </head>
    <div id="curve_chart" style="width: 900px; height: 500px; float: left"></div>
    
    <div style="float: left">
    <ul>
    
    @for(x <- CurrentDB.getFields()){
    
    	<li>@x</li>
    }
    
    </ul>
    </div>
    
    <table class = "table table-hover">
   		<caption>Company's Current Financial Data</caption>
   			<thead>
   				<tr>
   					@for(key <- CurrentDB.getFields()) {
   						<th>@key</th>
   					}
   				</tr>
   			</thead>
   			<tbody>
			        @for((company, companyFinancials) <- mapData) {
			        <tr>
			        	<td>@company</td>
						@for((key, value) <- companyFinancials) {
			            	<td>@value</td>
			            	}
			        </tr>
			        }
			</tbody>
	</table>
</html>
}
